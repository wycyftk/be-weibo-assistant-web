import{_ as G,r as p,i as U,o as J,a as l,b as _,c as w,d as o,e as g,w as n,u as i,f as C,F as R,m as f,g as P,h as Q,j as k,k as D,t as X,l as Y,I as Z,n as $,p as F,s as ee,q as te,v as oe}from"./index-53910632.js";const T=y=>(te("data-v-e7e8c4d8"),y=y(),oe(),y),ae={class:"content"},ne={key:0},se={key:2},le={class:"ant-upload-drag-icon"},ie=T(()=>g("p",{class:"ant-upload-text"},"点击或拖拽文件上传",-1)),ce=T(()=>g("p",{class:"ant-upload-hint"}," 请选择.txt文件 ",-1)),de=T(()=>g("label",{style:{"white-space":"nowrap"}},"评论id：",-1)),ue={__name:"CommentLike",setup(y){let c=p(!1),d=p(!1),u=p(""),v=p([]),b=p(!1),V=p([]);U("extId"),U("license");const A=U("validResult"),H=[{title:"序号",dataIndex:"no",key:"no",width:90},{title:"ck",dataIndex:"cookie",key:"cookie",ellipsis:!0},{title:"登录状态",dataIndex:"status",key:"status",width:120},{title:"操作",dataIndex:"operate",key:"operate",width:180}],q=function(s){const a=s.cookie;$(a).then(()=>{f.success("成功复制到剪切板")})},E=function(){c.value=!0},B=function(){c.value=!1},O=function(){if(!A){f.info("请先获取授权再操作");return}P().then(s=>{V.value=s.data})},K=function(s){console.log(s);const a=new FileReader;return a.readAsText(s),a.onload=I=>{const x=I.target.result.split(`
`).map(t=>{if(t.length){t.includes("cookie:")&&(t=t.replace("cookie:","")),console.log(t,"===========打印的 ------ ");let[j,L,r]=t.split("----"),e={};return r?e=F.parse(r):(r=t,e=F.parse(r)),console.log(e),{cookie:t,account:e}}else return""}).filter(Boolean);b.value=!0,ee({users:x}).then(t=>{t&&(f.success("导入成功"),B(),O())}).catch(t=>{f.error(t)}).finally(()=>{b.value=!1})},!1},M=function(){d.value=!0},S=function(){d.value=!1},W=function(){if(!u.value){f.error("请输入评论id!");return}Q({id:u.value}).then(s=>{console.log(s),f.success(`点赞成功，成功数量：${s.data}`)})};return J(()=>{O()}),(s,a)=>{const I=l("a-page-header"),m=l("a-button"),h=l("a-row"),x=l("a-tag"),t=l("a-table"),j=l("a-upload-dragger"),L=l("a-modal"),r=l("a-input");return _(),w(R,null,[o(I,{title:"评论点赞"}),g("div",ae,[o(h,{class:"actions-bar",type:"flex",justify:"end"},{default:n(()=>[o(m,{class:"button",type:"primary",onClick:E},{default:n(()=>[k("导入ck")]),_:1}),o(m,{class:"button",type:"primary"},{default:n(()=>[k("刷新列表")]),_:1}),o(m,{type:"primary",onClick:M},{default:n(()=>[k("点赞")]),_:1})]),_:1}),o(h,null,{default:n(()=>[o(t,{style:{width:"100%"},columns:H,"data-source":i(V),rowKey:"id"},{bodyCell:n(({column:e,record:N,index:z})=>[e.key==="operate"?(_(),w("span",ne,[o(m,{type:"link",onClick:re=>q(N)},{default:n(()=>[k("复制ck")]),_:2},1032,["onClick"])])):e.key==="status"?(_(),w(R,{key:1},[N.status===1?(_(),D(x,{key:0,color:"pink"},{default:n(()=>[k("失效")]),_:1})):(_(),D(x,{key:1,color:"blue"},{default:n(()=>[k("有效")]),_:1}))],64)):e.key==="no"?(_(),w("span",se,X(z+1),1)):Y("",!0)]),_:1},8,["data-source"])]),_:1})]),o(L,{visible:i(c),"onUpdate:visible":a[1]||(a[1]=e=>C(c)?c.value=e:c=e),title:"导入ck",footer:null,okText:"导入",cancelText:"取消",confirmLoading:i(b),onCancel:B,onOk:s.onCkImport},{default:n(()=>[o(j,{fileList:i(v),"onUpdate:fileList":a[0]||(a[0]=e=>C(v)?v.value=e:v=e),name:"file","before-upload":K},{default:n(()=>[g("p",le,[o(i(Z))]),ie,ce]),_:1},8,["fileList"])]),_:1},8,["visible","confirmLoading","onOk"]),o(L,{visible:i(d),"onUpdate:visible":a[3]||(a[3]=e=>C(d)?d.value=e:d=e),title:"微博评论点赞",okText:"点赞",cancelText:"取消",confirmLoading:i(b),onCancel:S,onOk:W},{default:n(()=>[o(h,{type:"flex",style:{height:"32px","flex-wrap":"nowrap"},align:"middle"},{default:n(()=>[de,o(r,{value:i(u),"onUpdate:value":a[2]||(a[2]=e=>C(u)?u.value=e:u=e),placeholder:"请输入评论id"},null,8,["value"])]),_:1})]),_:1},8,["visible","confirmLoading"])],64)}}},_e=G(ue,[["__scopeId","data-v-e7e8c4d8"]]);export{_e as default};
